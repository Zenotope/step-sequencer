{"version":3,"sources":["Components/Box.module.css","Components/Buttons.module.css","Components/Title.module.css","Components/PlayButton.module.css","Components/TimeSignature.module.css","Components/TempoSlider.module.css","Components/TempoDisplay.module.css","Components/TapTempo.module.css","Components/ResetButton.module.css","Components/PitchSelect.module.css","Components/BoxRow.module.css","Components/StepSequence.module.css","Components/Title.js","Components/PlayButton.js","Components/TimeSignature.js","Components/TempoSlider.js","Components/TempoDisplay.js","Components/TapTempo.js","Components/ResetButton.js","Components/Buttons.js","Components/PitchSelect.js","Components/Box.js","Components/BoxRow.js","Components/StepSequence.js","App.js","index.js"],"names":["module","exports","root","box","checked","active","activechecked","wrapperTop","wrapperBottom","info","landscape","label","length","slider","select","Title","props","react_default","a","createElement","className","_","chain","styles","compact","join","value","PlayButton","onClick","onTogglePlay","isPlaying","index_es","icon","TimeSignature","name","id","sequenceLength","onChange","e","onLengthChange","target","TempoSlider","type","min","max","tempo","onTempoChange","TempoDisplay","TapTempo","handleTap","ResetButton","onReset","Buttons","Components_PlayButton","Components_TimeSignature","Components_ResetButton","Components_TapTempo","Components_TempoDisplay","Components_TempoSlider","PitchSelect","notes","row","onPitchSelect","Box","map","isBoxChecked","i","onToggle","isActive","key","BoxRow","Components_PitchSelect","Components_Box","StepSequence","Components_BoxRow","pitchConversion","toggleBox","priorChecked","Object","toConsumableArray","synth","Tone","PolySynth","Synth","toMaster","context","AudioContext","library","add","faPlay","faStop","faRecycle","faInfoCircle","App","state","maxTempo","renderedNotes","partContainer","timeContainer","defaults","elapsedTime","numberOfTaps","averageBPM","velocity","componentDidMount","_this","generateMetronome","StartAudioContext","window","addEventListener","keyCode","preventDefault","console","log","screen","orientation","Math","abs","angle","height","setState","onToggleBox","prior","Transport","loop","loopStart","loopEnd","start","stop","restartPlaying","error","push","bpm","resetTempo","forceStop","shift","currentTime","toFixed","round","slice","time","reduce","b","note","forEach","part","removeAll","_this$state$notes","slicedToArray","note1","note2","seqLength","matrix","concat","index","Part","triggerVisualize","triggerAttackRelease","fill","Array","Components_Title","this","Components_Buttons","Components_StepSequence","React","PureComponent","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.aa7404a6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Box_root__3wb8N\",\"box\":\"Box_box__3XcKJ\",\"checked\":\"Box_checked__FtauF\",\"active\":\"Box_active__FZFXX\",\"activechecked\":\"Box_activechecked__1J_cQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Buttons_root__OkpSj\",\"wrapperTop\":\"Buttons_wrapperTop__32li6\",\"wrapperBottom\":\"Buttons_wrapperBottom__1T4HC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Title_root__2Xc8l\",\"info\":\"Title_info__3DHXa\",\"landscape\":\"Title_landscape__2YZbI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PlayButton_root__egeke\",\"label\":\"PlayButton_label__1kmG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TimeSignature_root__3dXFM\",\"length\":\"TimeSignature_length__29E66\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TempoSlider_root__v3S9z\",\"slider\":\"TempoSlider_slider__14cma\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TempoDisplay_root__29aaI\",\"label\":\"TempoDisplay_label__3-ob8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TapTempo_root__1Vk8_\",\"label\":\"TapTempo_label__2XMp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ResetButton_root__3LzA7\",\"label\":\"ResetButton_label__1H7Jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PitchSelect_root__1NRfw\",\"select\":\"PitchSelect_select__3sHnq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"BoxRow_root__1SXJu\",\"box\":\"BoxRow_box__BzG48\",\"checked\":\"BoxRow_checked__3Md4w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"StepSequence_root__12hd-\"};","import React from \"react\";\nimport _ from \"lodash\";\nimport styles from \"./Title.module.css\";\n\nconst Title = props => (\n  <div\n    className={_.chain([styles.root, props.landscape && styles.landscape])\n      .compact()\n      .join(\" \")\n      .value()}\n  >\n    Step Sequencer\n  </div>\n);\n\nexport default Title;\n","import React from \"react\";\nimport styles from \"./PlayButton.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst PlayButton = props => (\n  <div className={styles.root} onClick={props.onTogglePlay}>\n    <span className={styles.label}>\n      {props.isPlaying ? (\n        <FontAwesomeIcon icon=\"stop\" />\n      ) : (\n        <FontAwesomeIcon icon=\"play\" />\n      )}\n    </span>\n  </div>\n);\n\nexport default PlayButton;\n","import React from \"react\";\nimport styles from \"./TimeSignature.module.css\";\n\nconst TimeSignature = props => (\n  <div className={styles.root}>\n    <select\n      name=\"length\"\n      id=\"row-length\"\n      className={styles.length}\n      value={props.sequenceLength}\n      onChange={e => {\n        props.onLengthChange(e.target.value);\n      }}\n    >\n      <option value=\"2\">2</option>\n      <option value=\"3\">3</option>\n      <option value=\"4\">4</option>\n      <option value=\"5\">5</option>\n      <option value=\"6\">6</option>\n      <option value=\"7\">7</option>\n      <option value=\"8\">8</option>\n      <option value=\"9\">9</option>\n      <option value=\"10\">10</option>\n      <option value=\"11\">11</option>\n    </select>\n  </div>\n);\n\nexport default TimeSignature;\n","import React from \"react\";\nimport styles from \"./TempoSlider.module.css\";\n\nconst TempoSlider = props => (\n  <div className={styles.root}>\n    <input\n      type=\"range\"\n      min=\"30\"\n      max=\"300\"\n      value={props.tempo}\n      className={styles.slider}\n      onChange={e => {\n        props.onTempoChange(e.target.value);\n      }}\n    />\n  </div>\n);\n\nexport default TempoSlider;\n","import React from \"react\";\nimport styles from \"./TempoDisplay.module.css\";\n\nconst TempoDisplay = props => (\n  <div className={styles.root}>\n    <span className={styles.label}>{props.tempo}</span>\n  </div>\n);\n\nexport default TempoDisplay;\n","import React from \"react\";\nimport styles from \"./TapTempo.module.css\";\n\nconst TapTempo = props => (\n  <div className={styles.root} onClick={props.handleTap}>\n    <span className={styles.label}>Tap</span>\n  </div>\n);\n\nexport default TapTempo;\n","import React from \"react\";\nimport styles from \"./ResetButton.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst ResetButton = props => (\n  <div className={styles.root} onClick={props.onReset}>\n    <span className={styles.label}>\n      <FontAwesomeIcon icon=\"recycle\" />\n    </span>\n  </div>\n);\n\nexport default ResetButton;\n","import React from \"react\";\nimport PlayButton from \"./PlayButton\";\nimport TimeSignature from \"./TimeSignature\";\nimport TempoSlider from \"./TempoSlider\";\nimport TempoDisplay from \"./TempoDisplay\";\nimport TapTempo from \"./TapTempo\";\nimport ResetButton from \"./ResetButton\";\nimport styles from \"./Buttons.module.css\";\n\nconst Buttons = props => (\n  <div id=\"buttons\" className={styles.root}>\n    <div className={styles.wrapperTop}>\n      <PlayButton\n        isPlaying={props.isPlaying}\n        onTogglePlay={props.onTogglePlay}\n      />\n      <TimeSignature\n        sequenceLength={props.sequenceLength}\n        onLengthChange={props.onLengthChange}\n      />\n      <ResetButton onReset={props.onReset} />\n    </div>\n    <div className={styles.wrapperBottom}>\n      <TapTempo handleTap={props.handleTap} />\n      <TempoDisplay tempo={props.tempo} />\n      <TempoSlider tempo={props.tempo} onTempoChange={props.onTempoChange} />\n    </div>\n  </div>\n);\n\nexport default Buttons;\n","import React from \"react\";\nimport styles from \"./PitchSelect.module.css\";\n\nconst PitchSelect = props => (\n  <div className={styles.root}>\n    <select\n      name=\"pitch\"\n      id=\"pitch\"\n      className={styles.select}\n      value={props.notes[props.row]}\n      onChange={e => {\n        props.onPitchSelect(e.target.value, props.row);\n      }}\n    >\n      <option value=\"G5\">G5</option>\n      <option value=\"Gb5\">Gb5</option>\n      <option value=\"F5\">F5</option>\n      <option value=\"E5\">E5</option>\n      <option value=\"Eb5\">Eb5</option>\n      <option value=\"D5\">D5</option>\n      <option value=\"Db5\">Db5</option>\n      <option value=\"C5\">C5</option>\n      <option value=\"B4\">B4</option>\n      <option value=\"Bb4\">Bb4</option>\n      <option value=\"A4\">A4</option>\n      <option value=\"Ab4\">Ab4</option>\n      <option value=\"G4\">G4</option>\n    </select>\n  </div>\n);\n\nexport default PitchSelect;\n","import React from \"react\";\nimport styles from \"./Box.module.css\";\nimport _ from \"lodash\";\n\nconst Box = props => (\n  <div className={styles.root}>\n    {_.map(props.checked[props.row], (isBoxChecked, i) => (\n      <div\n        onClick={() => {\n          props.onToggle(i, props.row);\n        }}\n        className={_.chain([\n          styles.box,\n          isBoxChecked && styles.checked,\n          props.isActive[props.row][i] && !isBoxChecked && styles.active,\n          props.isActive[props.row][i] && isBoxChecked && styles.activechecked\n        ])\n          .compact()\n          .join(\" \")\n          .value()}\n        key={i}\n      />\n    ))}\n  </div>\n);\n\nexport default Box;\n","import React from \"react\";\nimport styles from \"./BoxRow.module.css\";\nimport PitchSelect from \"./PitchSelect\";\nimport Box from \"./Box\";\n\nconst BoxRow = props => (\n  <div className={styles.root}>\n    <PitchSelect\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      row={props.row}\n    />\n    <Box\n      checked={props.checked}\n      row={props.row}\n      isActive={props.isActive}\n      onToggle={props.onToggle}\n    />\n  </div>\n);\n\nexport default BoxRow;\n","import React from \"react\";\nimport BoxRow from \"./BoxRow\";\nimport styles from \"./StepSequence.module.css\";\n\nconst StepSequence = props => (\n  <div id=\"step-sequence\" className={styles.root}>\n    <BoxRow\n      checked={props.checked}\n      onToggle={props.onToggle}\n      sequenceLength={props.sequenceLength}\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      pitchConversion={props.pitchConversion}\n      isActive={props.isActive}\n      row=\"0\"\n    />\n    <BoxRow\n      checked={props.checked}\n      onToggle={props.onToggle}\n      sequenceLength={props.sequenceLength}\n      onPitchSelect={props.onPitchSelect}\n      notes={props.notes}\n      isActive={props.isActive}\n      row=\"1\"\n    />\n  </div>\n);\n\nexport default StepSequence;\n","import React from \"react\";\nimport Tone from \"tone\";\nimport _ from \"lodash\";\nimport Title from \"./Components/Title\";\nimport Buttons from \"./Components/Buttons\";\nimport StepSequence from \"./Components/StepSequence\";\nimport \"./App.css\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faPlay,\n  faStop,\n  faRecycle,\n  faInfoCircle\n} from \"@fortawesome/free-solid-svg-icons\";\nimport StartAudioContext from \"startaudiocontext\";\n\n/**\n TODO\n - Visualizer - must clear on stop, sometimes gets stuck on highlighted checked square\n - Tooltips for Play and Tap buttons \n */\n\nfunction toggleBox(priorChecked, i, row) {\n  const checked = [...priorChecked];\n  checked[row][i] = !checked[row][i];\n  return checked;\n}\n\n// what are correct places for these?\n// creates a global synth and context\nconst synth = new Tone.PolySynth(2, Tone.Synth).toMaster();\nconst context = new AudioContext();\n\n// fontawesome library setup\nlibrary.add(faPlay);\nlibrary.add(faStop);\nlibrary.add(faRecycle);\nlibrary.add(faInfoCircle);\n\nexport default class App extends React.PureComponent {\n  state = {\n    checked: [\n      [true, true, false, false, false, false, false],\n      [false, false, true, false, true, false, true]\n    ], // sequencer pattern array\n    isPlaying: false,\n    sequenceLength: 7, // length of sequence pattern\n    tempo: 120,\n    maxTempo: 300,\n    isActive: [[0, 0, 0, 1, 0, 1, 0], [0, 1, 0, 1, 0, 1, 0]], // used for highlighting suring visualization\n    renderedNotes: [],\n    partContainer: [], // store Part object for future removal\n    notes: [\"Eb5\", \"C5\"],\n    timeContainer: [], // tap tempo array\n    defaults: {\n      tempo: 120,\n      sequenceLength: 8,\n      isPlaying: false,\n      elapsedTime: 0,\n      numberOfTaps: 0,\n      averageBPM: 0,\n      checked: [\n        [true, false, false, false, false, false, false, false],\n        [false, false, true, false, true, false, true, false]\n      ],\n      notes: [\"Eb5\", \"C5\"],\n      isActive: [[0, 1, 0, 1, 0, 1, 0, 1], [0, 1, 0, 1, 0, 1, 0, 1]]\n    },\n    landscape: false,\n    velocity: 0.1\n  };\n\n  componentDidMount = () => {\n    this.generateMetronome();\n\n    // starts both audio contexts on mounting\n    StartAudioContext(Tone.context);\n    StartAudioContext(context);\n\n    // event listener for space, enter and 't'\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 32 || e.keyCode === 13) {\n        try {\n          e.preventDefault(); // prevents space bar from triggering selected checkboxes\n          this.onTogglePlay();\n        } catch (e) {\n          console.log(e);\n        }\n      } else if (e.keyCode === 84) {\n        try {\n          e.preventDefault(); // prevents space bar from triggering selected checkboxes\n          this.handleTap();\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n\n    // check for orientation, add event listener\n    if (\n      window.screen.orientation &&\n      Math.abs(window.screen.orientation.angle) === 90 &&\n      window.screen.height < 500\n    )\n      this.setState({ landscape: true });\n    window.addEventListener(\"orientationchange\", () => {\n      if (Math.abs(window.screen.orientation.angle) !== 90) {\n        this.setState({ landscape: false });\n      } else if (window.screen.height < 500) {\n        this.setState({ landscape: true });\n      }\n    });\n  };\n\n  onToggleBox = (i, row) => {\n    this.setState(\n      prior => ({\n        checked: toggleBox(prior.checked, i, row)\n      }),\n      () => {\n        this.generateMetronome();\n      }\n    );\n  };\n\n  onTogglePlay = () => {\n    this.setState(\n      prior => ({\n        isPlaying: !prior.isPlaying\n      }),\n      () => {\n        if (!this.state.isPlaying) {\n          //stop transport, turn off looping - prevents collision with measure sequence loop\n          Tone.Transport.stop();\n          Tone.Transport.loop = false;\n          Tone.Transport.loopEnd = 0;\n          // isActive array zeroed out\n          this.setState({ isActive: [[], []] }, () => console.log(\"stopped\"));\n        } else {\n          // configure looping for step sequencer\n          Tone.Transport.loop = true;\n          Tone.Transport.loopStart = 0;\n          Tone.Transport.loopEnd =\n            (this.state.sequenceLength * 30) / this.state.tempo;\n          Tone.Transport.start(\"+0.0\");\n          console.log(\"playing\");\n        }\n      }\n    );\n  };\n\n  restartPlaying = () => {\n    if (this.state.isPlaying) {\n      this.setState({ isPlaying: this.state.isPlaying }, () => {\n        Tone.Transport.stop();\n        Tone.Transport.loopStart = 0;\n        Tone.Transport.loopEnd =\n          (this.state.sequenceLength * 30) / this.state.tempo;\n        Tone.Transport.loop = true;\n        Tone.Transport.start(\"+0.0\");\n        console.log(\"playing restarted\");\n      });\n    } else {\n      console.error(\"restartPlaying called while not playing\");\n    }\n  };\n\n  onLengthChange = sequenceLength => {\n    // create a new checked array and push simple everyother note pattern\n    const checked = [[], []];\n    for (let i = 0; i < sequenceLength; i++) {\n      checked[0].push(i === 0);\n      checked[1].push(i !== 0 && i % 2 === 0);\n    }\n    this.setState(\n      () => ({\n        sequenceLength,\n        checked\n      }),\n      () => {\n        Tone.Transport.loopEnd = (sequenceLength * 30) / this.state.tempo;\n        this.generateMetronome();\n      }\n    );\n  };\n\n  onTempoChange = tempo => {\n    this.setState(\n      {\n        tempo\n      },\n      () => {\n        Tone.Transport.bpm.value = tempo;\n      }\n    );\n  };\n\n  onReset = () => {\n    this.setState(\n      prior => ({\n        tempo: prior.defaults.tempo,\n        sequenceLength: prior.defaults.sequenceLength,\n        isPlaying: prior.defaults.isPlaying,\n        checked: prior.defaults.checked,\n        notes: prior.defaults.notes,\n        isActive: prior.defaults.isActive\n      }),\n      () => {\n        this.resetTempo();\n        this.forceStop();\n        this.onLengthChange(this.state.sequenceLength);\n        this.onPitchSelect(this.state.notes[0], 0);\n        this.onPitchSelect(this.state.notes[1], 1);\n      }\n    );\n  };\n\n  forceStop = () => {\n    Tone.Transport.stop();\n    Tone.Transport.loop = false;\n    Tone.Transport.loopEnd = 0;\n    console.log(\"force stopped\");\n  };\n\n  resetTempo = () => {\n    Tone.Transport.bpm.value = this.state.defaults.tempo;\n  };\n\n  handleTap = () => {\n    // timeContainer maintenance - shift and push\n    const timeContainer = this.state.timeContainer;\n    if (timeContainer.length > 2) timeContainer.shift();\n    timeContainer.push(context.currentTime.toFixed(3));\n\n    // calculate tempo\n    const tempo = Math.round(\n      60 /\n        (timeContainer\n          .slice(1)\n          .map((time, i) => time - timeContainer[i])\n          .reduce((a, b) => a + b, 0) /\n          (timeContainer.length - 1))\n    );\n\n    // make sure tempo is within acceptable bounds\n    if (tempo > 40 && tempo < 301) {\n      this.setState({ tempo }, () => this.onTempoChange(tempo));\n    } else if (tempo > 300) {\n      this.setState({ tempo: this.state.maxTempo }, () =>\n        this.onTempoChange(this.state.tempo)\n      );\n    }\n  };\n\n  onPitchSelect = (note, row) => {\n    this.setState(\n      {\n        notes:\n          row === \"0\" // refactor this conditional\n            ? [note, this.state.notes[1]]\n            : [this.state.notes[0], note]\n      },\n      () => {\n        this.generateMetronome();\n      }\n    );\n  };\n\n  generateMetronome = () => {\n    // erase or stop all previous parts\n    const partContainer = this.state.partContainer;\n    partContainer.forEach(part => part.removeAll());\n\n    // metronome vitals\n    const [note1, note2] = this.state.notes,\n      seqLength = this.state.sequenceLength,\n      matrix = this.state.checked,\n      velocity = this.state.velocity;\n\n    // new renderedNotes array, populate\n    const renderedNotes = [];\n    for (let i = 0; i < seqLength; i++) {\n      const time = i / 2;\n      if (matrix[0][i]) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${time}`,\n          velocity: velocity,\n          index: i\n        });\n      } else if (!matrix[1][i]) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${time}`,\n          velocity: 0,\n          index: i\n        });\n      }\n      if (matrix[1][i]) {\n        renderedNotes.push({\n          note: note2,\n          time: `0:${time}`,\n          velocity: velocity,\n          index: i\n        });\n      }\n    }\n\n    // create new Part, start Part, push Part to container\n    const part = new Tone.Part((time, value) => {\n      this.triggerVisualize(value.index);\n      synth.triggerAttackRelease(value.note, 0.05, time, value.velocity);\n    }, renderedNotes).start(0);\n    partContainer.push(part);\n\n    this.setState({\n      renderedNotes,\n      partContainer\n    });\n  };\n\n  triggerVisualize = index => {\n    // generate array of 0's\n    const length = this.state.sequenceLength;\n    const isActive = [_.fill(Array(length), 0), _.fill(Array(length), 0)];\n\n    // set particular index as active\n    isActive[0][index] = 1;\n    isActive[1][index] = 1;\n    this.setState({ isActive });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Title landscape={this.state.landscape} />\n          <Buttons\n            isPlaying={this.state.isPlaying}\n            onTogglePlay={this.onTogglePlay}\n            sequenceLength={this.state.sequenceLength}\n            onLengthChange={this.onLengthChange}\n            tempo={this.state.tempo}\n            onTempoChange={this.onTempoChange}\n            onReset={this.onReset}\n            handleTap={this.handleTap}\n          />\n          <StepSequence\n            checked={this.state.checked}\n            onToggle={this.onToggleBox}\n            sequenceLength={this.state.sequenceLength}\n            onPitchSelect={this.onPitchSelect}\n            notes={this.state.notes}\n            isActive={this.state.isActive}\n          />\n        </header>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}